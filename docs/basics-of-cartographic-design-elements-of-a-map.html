<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Basics of cartographic design: elements of a map | Crime Mapping and Spatial Data Analysis using R</title>
  <meta name="description" content="Chapter 6 Basics of cartographic design: elements of a map | Crime Mapping and Spatial Data Analysis using R" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Basics of cartographic design: elements of a map | Crime Mapping and Spatial Data Analysis using R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Chapter 6 Basics of cartographic design: elements of a map | Crime Mapping and Spatial Data Analysis using R" />
  <meta name="github-repo" content="maczokni/crime_mapping" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Basics of cartographic design: elements of a map | Crime Mapping and Spatial Data Analysis using R" />
  
  <meta name="twitter:description" content="Chapter 6 Basics of cartographic design: elements of a map | Crime Mapping and Spatial Data Analysis using R" />
  

<meta name="author" content="Juanjo Medina and Reka Solymosi" />


<meta name="date" content="2022-07-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="variations-of-thematic-mapping.html"/>
<link rel="next" href="time-matters.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet/leaflet.js"></script>
<link href="libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4/proj4.min.js"></script>
<script src="libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding/leaflet.js"></script>
<script src="libs/leaflet-providers/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin/leaflet-providers-plugin.js"></script>
<script src="libs/burglary_raster_cc_9107d3/data_stars_burglary_raster_cc983ce5.txt"></script>
<script src="libs/joda/joda.js"></script>
<script src="libs/joda/addImageQuery-bindings.js"></script>
<script src="libs/clipboard/setClipboardText.js"></script>
<link href="libs/HomeButton/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton/home-button.js"></script>
<script src="libs/HomeButton/easy-button-src.min.js"></script>
<link href="libs/mapviewCSS/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS/mapview.css" rel="stylesheet" />
<script src="libs/Leaflet.Sync/L.Map.Sync.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Crime Mapping and Spatial Data Analysis using R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble: how to use this book</a></li>
<li class="chapter" data-level="2" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html"><i class="fa fa-check"></i><b>2</b> Producing your first crime map</a>
<ul>
<li class="chapter" data-level="2.1" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#geospatial-perspective-key-terms-and-ideas"><i class="fa fa-check"></i><b>2.2</b> Geospatial Perspective: key terms and ideas</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#place"><i class="fa fa-check"></i><b>2.2.1</b> Place</a></li>
<li class="chapter" data-level="2.2.2" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#attributes"><i class="fa fa-check"></i><b>2.2.2</b> Attributes</a></li>
<li class="chapter" data-level="2.2.3" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#spatial-objects"><i class="fa fa-check"></i><b>2.2.3</b> Spatial objects</a></li>
<li class="chapter" data-level="2.2.4" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#networks"><i class="fa fa-check"></i><b>2.2.4</b> Networks</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#maps-and-their-types"><i class="fa fa-check"></i><b>2.3</b> Maps and their types</a></li>
<li class="chapter" data-level="2.4" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#map-projections-and-geographic-coordinate-systems"><i class="fa fa-check"></i><b>2.4</b> Map projections and geographic coordinate systems</a></li>
<li class="chapter" data-level="2.5" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#key-terms-summary"><i class="fa fa-check"></i><b>2.5</b> Key terms summary</a></li>
<li class="chapter" data-level="2.6" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#getting-started-with-crime-data"><i class="fa fa-check"></i><b>2.6</b> Getting started with crime data</a></li>
<li class="chapter" data-level="2.7" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#from-dataframes-to-spatial-objects"><i class="fa fa-check"></i><b>2.7</b> From dataframes to spatial objects</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#the-point"><i class="fa fa-check"></i><b>2.7.1</b> The point</a></li>
<li class="chapter" data-level="2.7.2" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#the-line"><i class="fa fa-check"></i><b>2.7.2</b> The line</a></li>
<li class="chapter" data-level="2.7.3" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#the-polygon"><i class="fa fa-check"></i><b>2.7.3</b> The polygon</a></li>
<li class="chapter" data-level="2.7.4" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#choosing-the-ideal-unit-of-analysis"><i class="fa fa-check"></i><b>2.7.4</b> Choosing the ideal unit of analysis</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#the-simple-features-framework"><i class="fa fa-check"></i><b>2.8</b> The simple features framework</a></li>
<li class="chapter" data-level="2.9" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#plotting-data-with-ggplot2"><i class="fa fa-check"></i><b>2.9</b> Plotting data with ggplot2</a></li>
<li class="chapter" data-level="2.10" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#mapping-crime-data-as-points"><i class="fa fa-check"></i><b>2.10</b> Mapping crime data as points</a></li>
<li class="chapter" data-level="2.11" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#mapping-crime-data-as-polygons"><i class="fa fa-check"></i><b>2.11</b> Mapping crime data as polygons</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#finding-boundary-data"><i class="fa fa-check"></i><b>2.11.1</b> Finding boundary data</a></li>
<li class="chapter" data-level="2.11.2" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#reading-shapefiles-into-r"><i class="fa fa-check"></i><b>2.11.2</b> Reading shapefiles into R</a></li>
<li class="chapter" data-level="2.11.3" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#data-wrangling-with-dplyr"><i class="fa fa-check"></i><b>2.11.3</b> Data wrangling with dplyr</a></li>
<li class="chapter" data-level="2.11.4" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#join-data-to-sf-object"><i class="fa fa-check"></i><b>2.11.4</b> Join data to sf object</a></li>
<li class="chapter" data-level="2.11.5" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#putting-polygon-data-on-the-map"><i class="fa fa-check"></i><b>2.11.5</b> Putting polygon data on the map</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="producing-your-first-crime-map.html"><a href="producing-your-first-crime-map.html#summary-and-further-reading"><i class="fa fa-check"></i><b>2.12</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html"><i class="fa fa-check"></i><b>3</b> Basic geospatial operations in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#exploring-the-relationship-between-alcohol-outlets-and-crime"><i class="fa fa-check"></i><b>3.2</b> Exploring the relationship between alcohol outlets and crime</a></li>
<li class="chapter" data-level="3.3" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#acquiring-relevant-data"><i class="fa fa-check"></i><b>3.3</b> Acquiring relevant data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#reading-in-crime-data"><i class="fa fa-check"></i><b>3.3.1</b> Reading in crime data</a></li>
<li class="chapter" data-level="3.3.2" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#meet-a-new-format-geojson"><i class="fa fa-check"></i><b>3.3.2</b> Meet a new format: geoJSON</a></li>
<li class="chapter" data-level="3.3.3" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#open-street-map-and-points-of-interest"><i class="fa fa-check"></i><b>3.3.3</b> Open Street Map and points of interest</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#attribute-operations"><i class="fa fa-check"></i><b>3.4</b> Attribute operations</a></li>
<li class="chapter" data-level="3.5" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#spatial-operations"><i class="fa fa-check"></i><b>3.5</b> Spatial operations</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#reprojecting-coordinates"><i class="fa fa-check"></i><b>3.5.1</b> Reprojecting coordinates</a></li>
<li class="chapter" data-level="3.5.2" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#subsetting-points"><i class="fa fa-check"></i><b>3.5.2</b> Subsetting points</a></li>
<li class="chapter" data-level="3.5.3" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#building-buffers"><i class="fa fa-check"></i><b>3.5.3</b> Building buffers</a></li>
<li class="chapter" data-level="3.5.4" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#counting-points-within-a-polygon"><i class="fa fa-check"></i><b>3.5.4</b> Counting Points within a Polygon</a></li>
<li class="chapter" data-level="3.5.5" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#distances-finding-the-nearest-point"><i class="fa fa-check"></i><b>3.5.5</b> Distances: Finding the nearest point</a></li>
<li class="chapter" data-level="3.5.6" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#measuring-distances"><i class="fa fa-check"></i><b>3.5.6</b> Measuring distances</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#plotting-interactive-maps-with-leaflet"><i class="fa fa-check"></i><b>3.6</b> Plotting interactive maps with leaflet</a></li>
<li class="chapter" data-level="3.7" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#geocoding"><i class="fa fa-check"></i><b>3.7</b> Geocoding</a></li>
<li class="chapter" data-level="3.8" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#measuring-distance-more-thoroughly"><i class="fa fa-check"></i><b>3.8</b> Measuring distance more thoroughly</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#how-far-are-police-stations-in-madrid"><i class="fa fa-check"></i><b>3.8.1</b> How far are police stations in Madrid?</a></li>
<li class="chapter" data-level="3.8.2" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#distance-in-geographical-space"><i class="fa fa-check"></i><b>3.8.2</b> Distance in geographical space</a></li>
<li class="chapter" data-level="3.8.3" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#a-practical-example-to-evaluate-distance"><i class="fa fa-check"></i><b>3.8.3</b> A practical example to evaluate distance</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="basic-geospatial-operations-in-r.html"><a href="basic-geospatial-operations-in-r.html#summary-and-further-reading-1"><i class="fa fa-check"></i><b>3.9</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html"><i class="fa fa-check"></i><b>4</b> Mapping rates and counts</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#thematic-maps-key-terms-and-ideas"><i class="fa fa-check"></i><b>4.2</b> Thematic maps: key terms and ideas</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#choropleth-maps"><i class="fa fa-check"></i><b>4.2.1</b> Choropleth maps</a></li>
<li class="chapter" data-level="4.2.2" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#what-do-we-use-choropleth-maps-for"><i class="fa fa-check"></i><b>4.2.2</b> What do we use choropleth maps for?</a></li>
<li class="chapter" data-level="4.2.3" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#proportional-and-graduate-symbol-maps-mapping-crime-counts"><i class="fa fa-check"></i><b>4.2.3</b> Proportional and graduate symbol maps: mapping crime counts</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#creating-proportional-symbol-maps"><i class="fa fa-check"></i><b>4.3</b> Creating proportional symbol maps</a></li>
<li class="chapter" data-level="4.4" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#mapping-rates-rather-than-counts"><i class="fa fa-check"></i><b>4.4</b> Mapping rates rather than counts</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#generating-the-rates"><i class="fa fa-check"></i><b>4.4.1</b> Generating the rates</a></li>
<li class="chapter" data-level="4.4.2" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#creating-a-choropleth-map-with-tmap"><i class="fa fa-check"></i><b>4.4.2</b> Creating a choropleth map with tmap</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#classification-systems-for-thematic-maps"><i class="fa fa-check"></i><b>4.5</b> Classification systems for thematic maps</a></li>
<li class="chapter" data-level="4.6" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#interactive-mapping-with-tmap"><i class="fa fa-check"></i><b>4.6</b> Interactive mapping with tmap</a></li>
<li class="chapter" data-level="4.7" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#smoothing-rates-adjusting-for-small-sample-noise"><i class="fa fa-check"></i><b>4.7</b> Smoothing rates: adjusting for small sample noise</a></li>
<li class="chapter" data-level="4.8" data-path="mapping-rates-and-counts.html"><a href="mapping-rates-and-counts.html#summary-and-further-reading-2"><i class="fa fa-check"></i><b>4.8</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html"><i class="fa fa-check"></i><b>5</b> Variations of thematic mapping</a>
<ul>
<li class="chapter" data-level="5.1" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#introduction-3"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#binning-points"><i class="fa fa-check"></i><b>5.2</b> Binning points</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#the-binning-process"><i class="fa fa-check"></i><b>5.2.1</b> The Binning Process</a></li>
<li class="chapter" data-level="5.2.2" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#different-binning-techniques"><i class="fa fa-check"></i><b>5.2.2</b> Different Binning Techniques</a></li>
<li class="chapter" data-level="5.2.3" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#benefits-of-binning"><i class="fa fa-check"></i><b>5.2.3</b> Benefits of Binning</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#transforming-polygons-cartograms"><i class="fa fa-check"></i><b>5.3</b> Transforming polygons: cartograms</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#dorling-cartogram"><i class="fa fa-check"></i><b>5.3.1</b> Dorling Cartogram</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#bivariate-maps"><i class="fa fa-check"></i><b>5.4</b> Bivariate Maps</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#step-1-bin-our-variables-of-interest"><i class="fa fa-check"></i><b>5.4.1</b> Step 1: Bin our variables of interest</a></li>
<li class="chapter" data-level="5.4.2" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#step-2-new-variable"><i class="fa fa-check"></i><b>5.4.2</b> Step 2: New variable</a></li>
<li class="chapter" data-level="5.4.3" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#step-3-create-colour-scheme"><i class="fa fa-check"></i><b>5.4.3</b> Step 3: Create colour scheme</a></li>
<li class="chapter" data-level="5.4.4" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#step-4-join-colour-scheme"><i class="fa fa-check"></i><b>5.4.4</b> Step 4: Join colour scheme</a></li>
<li class="chapter" data-level="5.4.5" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#step-5-create-legend"><i class="fa fa-check"></i><b>5.4.5</b> Step 5: Create legend</a></li>
<li class="chapter" data-level="5.4.6" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#step-6-map"><i class="fa fa-check"></i><b>5.4.6</b> Step 6: Map</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#a-note-of-caution-maup"><i class="fa fa-check"></i><b>5.5</b> A note of caution: MAUP</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#why-does-maup-matter"><i class="fa fa-check"></i><b>5.5.1</b> Why does MAUP matter?</a></li>
<li class="chapter" data-level="5.5.2" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#what-can-we-do"><i class="fa fa-check"></i><b>5.5.2</b> What can we do?</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="variations-of-thematic-mapping.html"><a href="variations-of-thematic-mapping.html#summary-and-further-reading-3"><i class="fa fa-check"></i><b>5.6</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html"><i class="fa fa-check"></i><b>6</b> Basics of cartographic design: elements of a map</a>
<ul>
<li class="chapter" data-level="6.1" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#introduction-4"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#data-representation"><i class="fa fa-check"></i><b>6.2</b> Data representation</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#thematic-maps"><i class="fa fa-check"></i><b>6.2.1</b> Thematic maps</a></li>
<li class="chapter" data-level="6.2.2" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#symbols"><i class="fa fa-check"></i><b>6.2.2</b> Symbols</a></li>
<li class="chapter" data-level="6.2.3" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#rate-vs-count"><i class="fa fa-check"></i><b>6.2.3</b> Rate vs count</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#colour"><i class="fa fa-check"></i><b>6.3</b> Colour</a></li>
<li class="chapter" data-level="6.4" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#text"><i class="fa fa-check"></i><b>6.4</b> Text</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#titles-and-subtitles"><i class="fa fa-check"></i><b>6.4.1</b> Titles and subtitles</a></li>
<li class="chapter" data-level="6.4.2" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#legend"><i class="fa fa-check"></i><b>6.4.2</b> Legend</a></li>
<li class="chapter" data-level="6.4.3" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#annotation"><i class="fa fa-check"></i><b>6.4.3</b> Annotation</a></li>
<li class="chapter" data-level="6.4.4" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#production-notes"><i class="fa fa-check"></i><b>6.4.4</b> Production notes</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#composition"><i class="fa fa-check"></i><b>6.5</b> Composition</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#orientation-indicators"><i class="fa fa-check"></i><b>6.5.1</b> Orientation indicators</a></li>
<li class="chapter" data-level="6.5.2" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#scale-indicators"><i class="fa fa-check"></i><b>6.5.2</b> Scale indicators</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#context"><i class="fa fa-check"></i><b>6.6</b> Context</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#basemap"><i class="fa fa-check"></i><b>6.6.1</b> Basemap</a></li>
<li class="chapter" data-level="6.6.2" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#inset-maps"><i class="fa fa-check"></i><b>6.6.2</b> Inset maps</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="basics-of-cartographic-design-elements-of-a-map.html"><a href="basics-of-cartographic-design-elements-of-a-map.html#summary-and-further-reading-4"><i class="fa fa-check"></i><b>6.7</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="time-matters.html"><a href="time-matters.html"><i class="fa fa-check"></i><b>7</b> Time matters</a>
<ul>
<li class="chapter" data-level="7.1" data-path="time-matters.html"><a href="time-matters.html#introduction-5"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="time-matters.html"><a href="time-matters.html#temporal-data-in-crime-analysis"><i class="fa fa-check"></i><b>7.2</b> Temporal data in crime analysis</a></li>
<li class="chapter" data-level="7.3" data-path="time-matters.html"><a href="time-matters.html#temporal-data-wrangling"><i class="fa fa-check"></i><b>7.3</b> Temporal data wrangling</a></li>
<li class="chapter" data-level="7.4" data-path="time-matters.html"><a href="time-matters.html#visualising-time-data"><i class="fa fa-check"></i><b>7.4</b> Visualising time data</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="time-matters.html"><a href="time-matters.html#how-not-to-present-time"><i class="fa fa-check"></i><b>7.4.1</b> How (not) to present time</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="time-matters.html"><a href="time-matters.html#time-series-analysis"><i class="fa fa-check"></i><b>7.5</b> Time series analysis</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="time-matters.html"><a href="time-matters.html#plotting-time-series-data"><i class="fa fa-check"></i><b>7.5.1</b> Plotting time series data</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="time-matters.html"><a href="time-matters.html#spatio-temporal-data-visualisation"><i class="fa fa-check"></i><b>7.6</b> Spatio-temporal data visualisation</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="time-matters.html"><a href="time-matters.html#small-multiples-to-show-temporal-variation"><i class="fa fa-check"></i><b>7.6.1</b> Small multiples to show temporal variation</a></li>
<li class="chapter" data-level="7.6.2" data-path="time-matters.html"><a href="time-matters.html#spaghetti-plots"><i class="fa fa-check"></i><b>7.6.2</b> Spaghetti plots</a></li>
<li class="chapter" data-level="7.6.3" data-path="time-matters.html"><a href="time-matters.html#animations"><i class="fa fa-check"></i><b>7.6.3</b> Animations</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="time-matters.html"><a href="time-matters.html#summary-and-further-reading-5"><i class="fa fa-check"></i><b>7.7</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html"><i class="fa fa-check"></i><b>8</b> Spatial point patterns of crime events</a>
<ul>
<li class="chapter" data-level="8.1" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#mapping-crime-intensity-with-isarithmic-maps"><i class="fa fa-check"></i><b>8.1</b> Mapping crime intensity with isarithmic maps</a></li>
<li class="chapter" data-level="8.2" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#burglaries-in-nyc"><i class="fa fa-check"></i><b>8.2</b> Burglaries in NYC</a></li>
<li class="chapter" data-level="8.3" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#using-the-spatstat-package"><i class="fa fa-check"></i><b>8.3</b> Using the <code>spatstat</code> package</a></li>
<li class="chapter" data-level="8.4" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#homogeneous-or-spatially-varying-intensity"><i class="fa fa-check"></i><b>8.4</b> Homogeneous or spatially varying intensity?</a></li>
<li class="chapter" data-level="8.5" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#mapping-intensity-estimates-with-spatstat"><i class="fa fa-check"></i><b>8.5</b> Mapping intensity estimates with <code>spatstat</code></a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#basics-of-kernel-density-estimation-kde"><i class="fa fa-check"></i><b>8.5.1</b> Basics of kernel density estimation (KDE)</a></li>
<li class="chapter" data-level="8.5.2" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#selecting-the-appropriate-bandwith-for-kde"><i class="fa fa-check"></i><b>8.5.2</b> Selecting the appropriate bandwith for KDE</a></li>
<li class="chapter" data-level="8.5.3" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#selecting-the-smoothing-kernel"><i class="fa fa-check"></i><b>8.5.3</b> Selecting the smoothing kernel</a></li>
<li class="chapter" data-level="8.5.4" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#weighted-kernel-density-estimates"><i class="fa fa-check"></i><b>8.5.4</b> Weighted kernel density estimates</a></li>
<li class="chapter" data-level="8.5.5" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#better-kde-maps-using-leaflet"><i class="fa fa-check"></i><b>8.5.5</b> Better KDE maps using <code>leaflet</code></a></li>
<li class="chapter" data-level="8.5.6" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#problems-with-kde"><i class="fa fa-check"></i><b>8.5.6</b> Problems with KDE</a></li>
<li class="chapter" data-level="8.5.7" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#other-packages-for-kde"><i class="fa fa-check"></i><b>8.5.7</b> Other packages for KDE</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="spatial-point-patterns-of-crime-events.html"><a href="spatial-point-patterns-of-crime-events.html#summary-and-further-reading-6"><i class="fa fa-check"></i><b>8.6</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html"><i class="fa fa-check"></i><b>9</b> Crime along spatial networks</a>
<ul>
<li class="chapter" data-level="9.1" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#introduction-6"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#constructing-and-storing-a-spatial-linear-network"><i class="fa fa-check"></i><b>9.2</b> Constructing and storing a spatial linear network</a></li>
<li class="chapter" data-level="9.3" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#density-estimation-along-networks"><i class="fa fa-check"></i><b>9.3</b> Density estimation along networks</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#adding-context"><i class="fa fa-check"></i><b>9.3.1</b> Adding context</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#visualising-crime-distribution-along-networks"><i class="fa fa-check"></i><b>9.4</b> Visualising crime distribution along networks</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#hot-routes"><i class="fa fa-check"></i><b>9.4.1</b> Hot Routes</a></li>
<li class="chapter" data-level="9.4.2" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#street-profile-analysis"><i class="fa fa-check"></i><b>9.4.2</b> Street Profile Analysis</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#quantifying-crime-concentration-at-micro-places"><i class="fa fa-check"></i><b>9.5</b> Quantifying crime concentration at micro-places</a></li>
<li class="chapter" data-level="9.6" data-path="crime-along-spatial-networks.html"><a href="crime-along-spatial-networks.html#summary-and-further-reading-7"><i class="fa fa-check"></i><b>9.6</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html"><i class="fa fa-check"></i><b>10</b> Spatial dependence and autocorrelation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#introduction-7"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#exploring-spatial-dependence-in-point-pattern-data"><i class="fa fa-check"></i><b>10.2</b> Exploring spatial dependence in point pattern data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#the-empirical-k-function"><i class="fa fa-check"></i><b>10.2.1</b> The empirical K function</a></li>
<li class="chapter" data-level="10.2.2" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#homicide-in-buenos-aires"><i class="fa fa-check"></i><b>10.2.2</b> Homicide in Buenos Aires</a></li>
<li class="chapter" data-level="10.2.3" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#estimating-and-plotting-the-k-function"><i class="fa fa-check"></i><b>10.2.3</b> Estimating and plotting the K-function</a></li>
<li class="chapter" data-level="10.2.4" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#network-constrained-k-function"><i class="fa fa-check"></i><b>10.2.4</b> Network constrained K function</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#exploring-spatial-autocorrelation-in-lattice-data"><i class="fa fa-check"></i><b>10.3</b> Exploring spatial autocorrelation in lattice data</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#burglary-in-manchester"><i class="fa fa-check"></i><b>10.3.1</b> Burglary in Manchester</a></li>
<li class="chapter" data-level="10.3.2" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#what-is-a-neighbour"><i class="fa fa-check"></i><b>10.3.2</b> What is a neighbour?</a></li>
<li class="chapter" data-level="10.3.3" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#creating-a-list-of-neighbours-based-on-contiguity"><i class="fa fa-check"></i><b>10.3.3</b> Creating a list of neighbours based on contiguity</a></li>
<li class="chapter" data-level="10.3.4" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#generating-the-weight-matrix"><i class="fa fa-check"></i><b>10.3.4</b> Generating the weight matrix</a></li>
<li class="chapter" data-level="10.3.5" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#spatial-weight-matrix-based-on-distance"><i class="fa fa-check"></i><b>10.3.5</b> Spatial weight matrix based on distance</a></li>
<li class="chapter" data-level="10.3.6" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#spatial-weight-matrix-based-on-k-neighbors"><i class="fa fa-check"></i><b>10.3.6</b> Spatial weight matrix based on k-neighbors</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#choosing-the-correct-matrix"><i class="fa fa-check"></i><b>10.4</b> Choosing the correct matrix</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#measuring-global-autocorrelation"><i class="fa fa-check"></i><b>10.4.1</b> Measuring global autocorrelation</a></li>
<li class="chapter" data-level="10.4.2" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#the-rgeoda-and-sfweight-packages"><i class="fa fa-check"></i><b>10.4.2</b> The <code>rgeoda</code> and <code>sfweight</code> packages</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="spatial-dependence-and-autocorrelation.html"><a href="spatial-dependence-and-autocorrelation.html#further-reading"><i class="fa fa-check"></i><b>10.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html"><i class="fa fa-check"></i><b>11</b> Detecting hot spots and repeats</a>
<ul>
<li class="chapter" data-level="11.1" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#introduction-8"><i class="fa fa-check"></i><b>11.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#clusters-hot-spots-of-crime-and-near-repeat-victimisation"><i class="fa fa-check"></i><b>11.1.1</b> Clusters, hot spots of crime, and near repeat victimisation</a></li>
<li class="chapter" data-level="11.1.2" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#burglaries-in-manchester"><i class="fa fa-check"></i><b>11.1.2</b> Burglaries in Manchester</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#using-raster-micro-grid-cells-to-spot-hot-spots"><i class="fa fa-check"></i><b>11.2</b> Using <code>raster</code> micro grid cells to spot hot spots</a></li>
<li class="chapter" data-level="11.3" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#local-getis-ord"><i class="fa fa-check"></i><b>11.3</b> Local Getis-Ord</a></li>
<li class="chapter" data-level="11.4" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#local-morans-i-and-moran-scaterplot"><i class="fa fa-check"></i><b>11.4</b> Local Moran’s I and Moran scaterplot</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#computing-the-local-morans-i"><i class="fa fa-check"></i><b>11.4.1</b> Computing the local Moran’s I</a></li>
<li class="chapter" data-level="11.4.2" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#creating-a-lisa-map"><i class="fa fa-check"></i><b>11.4.2</b> Creating a LISA map</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#scan-satistics"><i class="fa fa-check"></i><b>11.5</b> Scan satistics</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#the-dcluster-package"><i class="fa fa-check"></i><b>11.5.1</b> The <code>DCluster</code> package</a></li>
<li class="chapter" data-level="11.5.2" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#openshaws-gam"><i class="fa fa-check"></i><b>11.5.2</b> Openshaw’s GAM</a></li>
<li class="chapter" data-level="11.5.3" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#kulldorfs-scan-statistic"><i class="fa fa-check"></i><b>11.5.3</b> Kulldorf’s Scan Statistic</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#exploring-near-repeat-victimisation"><i class="fa fa-check"></i><b>11.6</b> Exploring near repeat victimisation</a></li>
<li class="chapter" data-level="11.7" data-path="detecting-hot-spots-and-repeats.html"><a href="detecting-hot-spots-and-repeats.html#further-reading-1"><i class="fa fa-check"></i><b>11.7</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html"><i class="fa fa-check"></i><b>12</b> Spatial regression models</a>
<ul>
<li class="chapter" data-level="12.1" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#introduction-9"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#challenges-for-regression-with-spatial-data"><i class="fa fa-check"></i><b>12.2</b> Challenges for regression with spatial data</a></li>
<li class="chapter" data-level="12.3" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#fitting-a-non-spatial-regression-model-with-r"><i class="fa fa-check"></i><b>12.3</b> Fitting a non-spatial regression model with R</a></li>
<li class="chapter" data-level="12.4" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#looking-at-the-residuals-and-testing-for-spatial-autocorrelation-in-regression"><i class="fa fa-check"></i><b>12.4</b> Looking at the residuals and testing for spatial autocorrelation in regression</a></li>
<li class="chapter" data-level="12.5" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#choosing-a-spatial-regression-model"><i class="fa fa-check"></i><b>12.5</b> Choosing a spatial regression model</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#the-basic-spatial-models"><i class="fa fa-check"></i><b>12.5.1</b> The basic spatial models</a></li>
<li class="chapter" data-level="12.5.2" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#lagrange-multipliers-the-bottom-up-approach-to-select-a-model"><i class="fa fa-check"></i><b>12.5.2</b> Lagrange multipliers: the bottom-up approach to select a model</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#fitting-and-interpreting-a-spatial-error-model"><i class="fa fa-check"></i><b>12.6</b> Fitting and interpreting a spatial error model</a></li>
<li class="chapter" data-level="12.7" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#fitting-and-interpreting-a-spatially-lagged-model"><i class="fa fa-check"></i><b>12.7</b> Fitting and interpreting a spatially lagged model</a></li>
<li class="chapter" data-level="12.8" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#beyond-the-sar-and-sem-models"><i class="fa fa-check"></i><b>12.8</b> Beyond the SAR and SEM models</a></li>
<li class="chapter" data-level="12.9" data-path="spatial-regression-models.html"><a href="spatial-regression-models.html#summary-and-further-reading-8"><i class="fa fa-check"></i><b>12.9</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html"><i class="fa fa-check"></i><b>13</b> Spatial heterogeneity and regression</a>
<ul>
<li class="chapter" data-level="13.1" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#introduction-10"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#spatial-regimes"><i class="fa fa-check"></i><b>13.2</b> Spatial regimes</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#fitting-the-constrained-and-the-unconstrained-models"><i class="fa fa-check"></i><b>13.2.1</b> Fitting the constrained and the unconstrained models</a></li>
<li class="chapter" data-level="13.2.2" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#running-the-chow-test"><i class="fa fa-check"></i><b>13.2.2</b> Running the Chow test</a></li>
<li class="chapter" data-level="13.2.3" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#spatial-dependence-with-spatial-heterogeneity"><i class="fa fa-check"></i><b>13.2.3</b> Spatial dependence with spatial heterogeneity</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#geographically-weighted-regression"><i class="fa fa-check"></i><b>13.3</b> Geographically Weighted Regression</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#calculate-kernel-bandwidth"><i class="fa fa-check"></i><b>13.3.1</b> Calculate kernel bandwidth</a></li>
<li class="chapter" data-level="13.3.2" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#building-the-geographically-weighted-model"><i class="fa fa-check"></i><b>13.3.2</b> Building the geographically weighted model</a></li>
<li class="chapter" data-level="13.3.3" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#using-gwr"><i class="fa fa-check"></i><b>13.3.3</b> Using GWR</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="spatial-heterogeneity-and-regression.html"><a href="spatial-heterogeneity-and-regression.html#summary-and-further-reading-9"><i class="fa fa-check"></i><b>13.4</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>14</b> Appendix: A quick intro to R and RStudio</a>
<ul>
<li class="chapter" data-level="14.1" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#exploring-rstudio"><i class="fa fa-check"></i><b>14.1</b> Exploring RStudio</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#the-four-panes-of-r-studio"><i class="fa fa-check"></i><b>14.1.1</b> The four panes of R Studio</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#customising-the-rstudio-look"><i class="fa fa-check"></i><b>14.2</b> Customising the RStudio look</a></li>
<li class="chapter" data-level="14.3" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#elements-of-r-grammar"><i class="fa fa-check"></i><b>14.3</b> Elements of R grammar</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#functions"><i class="fa fa-check"></i><b>14.3.1</b> Functions</a></li>
<li class="chapter" data-level="14.3.2" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>14.3.2</b> Objects</a></li>
<li class="chapter" data-level="14.3.3" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#types-of-objects"><i class="fa fa-check"></i><b>14.3.3</b> Types of objects</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#packages"><i class="fa fa-check"></i><b>14.4</b> Packages</a></li>
<li class="chapter" data-level="14.5" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#exploring-data-with-r"><i class="fa fa-check"></i><b>14.5</b> Exploring data with R</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#playing-around-with-data"><i class="fa fa-check"></i><b>14.5.1</b> Playing around with data</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#getting-organised-r-projects"><i class="fa fa-check"></i><b>14.6</b> Getting organised: R Projects</a></li>
<li class="chapter" data-level="14.7" data-path="appendix-a-quick-intro-to-r-and-rstudio.html"><a href="appendix-a-quick-intro-to-r-and-rstudio.html#summary-and-further-reading-10"><i class="fa fa-check"></i><b>14.7</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html"><i class="fa fa-check"></i><b>15</b> Appendix B: Regression analysis (a refresher)</a>
<ul>
<li class="chapter" data-level="15.1" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#introduction-11"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#motivating-regression"><i class="fa fa-check"></i><b>15.2</b> Motivating regression</a></li>
<li class="chapter" data-level="15.3" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#fitting-a-simple-regression-model"><i class="fa fa-check"></i><b>15.3</b> Fitting a simple regression model</a></li>
<li class="chapter" data-level="15.4" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#residuals-revisited-r-squared"><i class="fa fa-check"></i><b>15.4</b> Residuals revisited: R squared</a></li>
<li class="chapter" data-level="15.5" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#inference-with-regression"><i class="fa fa-check"></i><b>15.5</b> Inference with regression</a></li>
<li class="chapter" data-level="15.6" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#fitting-regression-with-categorical-predictors"><i class="fa fa-check"></i><b>15.6</b> Fitting regression with categorical predictors</a></li>
<li class="chapter" data-level="15.7" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#motivating-multiple-regression"><i class="fa fa-check"></i><b>15.7</b> Motivating multiple regression</a></li>
<li class="chapter" data-level="15.8" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#fitting-and-interpreting-a-multiple-regression-model"><i class="fa fa-check"></i><b>15.8</b> Fitting and interpreting a multiple regression model</a></li>
<li class="chapter" data-level="15.9" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#presenting-your-regression-results."><i class="fa fa-check"></i><b>15.9</b> Presenting your regression results.</a></li>
<li class="chapter" data-level="15.10" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#rescaling-input-variables-to-assist-interpretation"><i class="fa fa-check"></i><b>15.10</b> Rescaling input variables to assist interpretation</a></li>
<li class="chapter" data-level="15.11" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#testing-conditional-hypothesis-interactions"><i class="fa fa-check"></i><b>15.11</b> Testing conditional hypothesis: interactions</a></li>
<li class="chapter" data-level="15.12" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#model-building-and-variable-selection"><i class="fa fa-check"></i><b>15.12</b> Model building and variable selection</a></li>
<li class="chapter" data-level="15.13" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#regression-assumptions"><i class="fa fa-check"></i><b>15.13</b> Regression assumptions</a></li>
<li class="chapter" data-level="15.14" data-path="appendix-b-regression-analysis-a-refresher.html"><a href="appendix-b-regression-analysis-a-refresher.html#summary-and-further-reading-11"><i class="fa fa-check"></i><b>15.14</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><a href="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><i class="fa fa-check"></i><b>16</b> Appendix C: sourcing geographical data for crime analysis</a>
<ul>
<li class="chapter" data-level="16.1" data-path="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><a href="appendix-c-sourcing-geographical-data-for-crime-analysis.html#the-rnaturalearth-package"><i class="fa fa-check"></i><b>16.1</b> The rnaturalearth package</a></li>
<li class="chapter" data-level="16.2" data-path="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><a href="appendix-c-sourcing-geographical-data-for-crime-analysis.html#data-from-apis"><i class="fa fa-check"></i><b>16.2</b> Data from APIs</a></li>
<li class="chapter" data-level="16.3" data-path="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><a href="appendix-c-sourcing-geographical-data-for-crime-analysis.html#data-from-data-repositories"><i class="fa fa-check"></i><b>16.3</b> Data from data repositories</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><a href="appendix-c-sourcing-geographical-data-for-crime-analysis.html#international-resources"><i class="fa fa-check"></i><b>16.3.1</b> International resources</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><a href="appendix-c-sourcing-geographical-data-for-crime-analysis.html#open-street-map"><i class="fa fa-check"></i><b>16.4</b> Open Street Map</a></li>
<li class="chapter" data-level="16.5" data-path="appendix-c-sourcing-geographical-data-for-crime-analysis.html"><a href="appendix-c-sourcing-geographical-data-for-crime-analysis.html#summary-and-further-reading-12"><i class="fa fa-check"></i><b>16.5</b> Summary and further reading</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime Mapping and Spatial Data Analysis using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics-of-cartographic-design-elements-of-a-map" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Basics of cartographic design: elements of a map<a href="basics-of-cartographic-design-elements-of-a-map.html#basics-of-cartographic-design-elements-of-a-map" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-4" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Introduction<a href="basics-of-cartographic-design-elements-of-a-map.html#introduction-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter aims to focus on introducing good practice in map design and presentation. When putting a map together you need to think about its intended audience (their level of expertise, whether you want them to interact with the map), purpose, and format of delivery (e.g., printed, web, projected in a screen, etc). There are many design decisions you need to consider: fonts, labels, colour, legends, layout, etc. In this chapter we provide a general introduction to some basic design principles for map production. These themes, and the appropriate election of symbol representation, are the subject matter of cartography, the art and science of map making. Within cartography a considerable body of research and scholarship has focused on studying the visual and psychological implications of our mapping choices. As noted in previous chapters one of the problems with maps is that powerful as a tool as they can be, they can lead to misunderstanding. What the mapmaker chooses to emphasise and what the map reader see may not be the same thing. We will work you through an example of a fairly basic map and the process of taking to a point where it could be ready for presentation to an audience other that yourself.</p>
<p>In this chapter we will be working with some data published by Hungarian police available online <span class="citation">(<a href="#ref-Policehu_2021" role="doc-biblioref">Police.hu 2020</a>)</span>. Specifically we will be looking at some statistics related to drink driving. Drink driving is one of a number of problems police confront that relate to impaired and dangerous driving. Hungary has a strict drink driving policy, with the maximum drink diving limit being 0.0 BAC. Most European countries are at 0.5 BAC, while the UK is 0.8 (except 0.5 for Scotland). We have records for each county with the number of brethalyser checks carried out, and the number of these which returned a positive result.</p>
<p>We have downloaded and saved these data in the data folder made available with this textbook. The two data sets we will use are this drink driving data set, called <code>drink_driving.csv</code>, and a geometry of the counties within Hungary called <code>hungary.geojson</code>.</p>
<p>In this chapter, we will be making use of the following libraries:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for reading data and data carpentry</span></span>
<span id="cb229-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb229-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb229-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for handling spatial data and for geospatial carpentry</span></span>
<span id="cb229-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb229-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggspatial)</span>
<span id="cb229-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb229-9"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-10"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for mapping and visualisation</span></span>
<span id="cb229-11"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb229-12"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb229-13"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb229-14"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb229-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span></code></pre></div>
<p>So let’s read in our data sets, and join the attribute data to the geometry using <code>left_join()</code> (if you’re unsure about any of the below code, revisit Chapter 1 of this book for a refresher!).</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read in geojson polygon for Hungary</span></span>
<span id="cb230-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-2" aria-hidden="true" tabindex="-1"></a>hungary <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/hungary.geojson&quot;</span>)</span>
<span id="cb230-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-4" aria-hidden="true" tabindex="-1"></a><span class="co">#read in drink driving data </span></span>
<span id="cb230-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-5" aria-hidden="true" tabindex="-1"></a>drink_driving <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/drink_driving.csv&quot;</span>)</span>
<span id="cb230-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-7" aria-hidden="true" tabindex="-1"></a><span class="co">#join the csv (attribute) data to the polygons</span></span>
<span id="cb230-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb230-8" aria-hidden="true" tabindex="-1"></a>hu_dd <span class="ot">&lt;-</span> <span class="fu">left_join</span>(hungary, drink_driving, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;name&quot;</span> <span class="ot">=</span> <span class="st">&quot;name&quot;</span>))</span></code></pre></div>
<p>We can now use this example to talk through the important principles of good visualisation of spatial data. We draw specifically from two areas of research: cartography and data visualisation. Let’s start with cartography.</p>
<p>Cartographers have always been concerned about the appearance of maps and how the display marries form with function <span class="citation">(<a href="#ref-Field_2012" role="doc-biblioref">Field and Demaj 2012</a>)</span>. As there is no definitive definition for what is meant by <em>cartographic design</em> it can be challenging to evaluate what makes <em>good</em> design. However there are themes and elements which can be used to guide the map maker, and offer points of reflection to encourage thoughtful designs.</p>
<p>The primary aim of maps is the communication of information in an honest and ethical way. This means each map should have a clear goal and know its audience, show all relevant data and not use the data to lie or mislead <span class="citation">(<a href="#ref-Dent_2008" role="doc-biblioref">Dent, Torguson, and Hodler 2008</a>)</span>. It should also be reproducible, transparent, cite all data sources, and consider diversity in its audience <span class="citation">(<a href="#ref-Dent_2008" role="doc-biblioref">Dent, Torguson, and Hodler 2008</a>)</span>. So what does that mean for specifically implementing these into practice. While a good amount of critical thought from the map maker will be required, there are aids we can rely upon. For example, <span class="citation">Field (<a href="#ref-Field_2007" role="doc-biblioref">2007</a>)</span> developed a map evaluation checklist which asks the map maker a series of questions to guide their map making process. The questions fall into three broad categories:</p>
<ul>
<li><em>Cartographic Requirements</em>: such as what is the rationale for the map, who are the audience?</li>
<li><em>Cartographic Complication and Design</em> such as are all the relevant features included and do the colours, symbols, and other features legible and appropriate to achieve the map’s objectives? And finally,</li>
<li><em>Map Elements and Page Layout</em> which tackle some specific features such as orientation indicator, scale indicator, legend, titles and subtitles, and production notes.</li>
</ul>
<p>We will discuss these elements in this chapter to some degree, and the recommended reading will guide the reader to further advice on these topics.</p>
<p>Data visualisation is a somewhat newer field, however, it seems to encompass the same guiding principles when considering what makes good design. According to <span class="citation">Kirk (<a href="#ref-Kirk_2016" role="doc-biblioref">2016</a>)</span> three principles offer a guide when deciding what makes a <em>good</em> data visualisation. It must be: ttrustworthy, accessible, and elegant. The first principle, of <strong>trust</strong> speaks to the integrity, accuracy, and legitimacy of any data visualisation we produce. <span class="citation">Kirk (<a href="#ref-Kirk_2016" role="doc-biblioref">2016</a>)</span> suggests this principle to be held above all else, as our primary goal is to communicate truth (as far as we know it) and avoid at all cost to present what we know to be misleading content (see as well <span class="citation">Cairo (<a href="#ref-Cairo_2016" role="doc-biblioref">2016</a>)</span>). <strong>Accessibility</strong> refers to our visualisation being useful, understandable, and unobtrusive, as well as accessible for all users. There are many things to consider in your audience such as <em>dynamic of need</em> (do they have to engage with your visualisation, or is it voluntary?), <em>subject-matter knowledge</em> are they experts in the area, are they lay people to whom you must communicate a complex message?, and many other factors (see <span class="citation">Kirk (<a href="#ref-Kirk_2016" role="doc-biblioref">2016</a>)</span>). Finally, <strong>elegance</strong> refers to aesthetics, attention to detail, and an element of <em>doing as little design as possible</em> - meaning a certain invisibility whereby the viewer of your visualisation focussed on the content, rather than the design - that is the main point is the message that you are trying to communicate with your data. There are various schools of though within data visualisation research. For example, the work of <span class="citation">Tufte (<a href="#ref-Tufte_1983" role="doc-biblioref">2001</a>)</span> emphasises clean, minimalist approaches to data visualisation, emphasising a low <em>data-to-ink-ratio</em>, which means all the ink needed to print the visualisation should contribute data to the graph. However, other research has explored the usefulness of additional embellishments on charts (which Tufte calls “chart junk”) - finding there may be value to these sorts of approaches as well (e.g. see <span class="citation">Li and Moacdieh (<a href="#ref-Li_2014" role="doc-biblioref">2014</a>)</span>). In this chapter, we will aim to bring together the above principles, and work through a practical example of how to apply these to the maps we make.</p>
</div>
<div id="data-representation" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Data representation<a href="basics-of-cartographic-design-elements-of-a-map.html#data-representation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="thematic-maps" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Thematic maps<a href="basics-of-cartographic-design-elements-of-a-map.html#thematic-maps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We’ve been working with thematic maps thus far in this book. There are many decisions that go into making a thematic map, which we have explored at length in the previous chapters, such as how (and whether) to bin your data (Chapter 3) and how (or whether) to transform your polygons (Chapter 4). These are important considerations on how to represent your data to your audience, and require a technical understanding, not only an aesthetic one. So please do read over those chapters carefully when thinking about how to represent your data.</p>
<p>We’ve covered a few approaches to mapping (using <code>ggplot2</code>, <code>tmap</code>, and <code>leaflet</code>) but here we will continue with <code>ggplot2</code> package to plot our thematic maps, specifically a choropleth map. We will map our <code>sf</code> objects using the <code>geom_sf()</code> function. To shade each polygon with the values of a specific variable, we use the <code>fill =</code> argument within the <code>aes()</code> (aesthetics) function. Most simply:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb231-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb231-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb231-3" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> <span class="co"># specify data to use</span></span>
<span id="cb231-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb231-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_breath_tests)) <span class="co"># specify aestetics </span></span>
<span id="cb231-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb231-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb231-6" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:themmap"></span>
<img src="crime_mapping_files/figure-html/themmap-1.png" alt="Quick thematic map with ggplot2" width="672" />
<p class="caption">
FIGURE 6.1: Quick thematic map with ggplot2
</p>
</div>
<p>Maps made with <code>ggplot</code> are automatically placed upon a grid reference to our data (see our brief overview of building plots with <code>ggplot</code> in Chapter 1). To remove this, we can use the <code>theme_void()</code> theme, which will strip this away.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb232-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span> </span>
<span id="cb232-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb232-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()  <span class="co"># remove grid </span></span>
<span id="cb232-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb232-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb232-4" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:themmapthemevoid"></span>
<img src="crime_mapping_files/figure-html/themmapthemevoid-1.png" alt="Add theme_void() to ggplot map" width="672" />
<p class="caption">
FIGURE 6.2: Add theme_void() to ggplot map
</p>
</div>
<p>We can change the colour and size of the borders of our polygons with arguments inside the <code>geom_sf()</code> function, but outside the <code>aes()</code> function, as long as we’re not using our data to define these. For example we can change the line width (<code>lwd =</code>) to 0, eliminating bordering lines between our polygons:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb233-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb233-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_breath_tests), <span class="at">lwd =</span> <span class="dv">0</span>) <span class="sc">+</span>  <span class="co"># specify line width</span></span>
<span id="cb233-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb233-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:themmapwithoubord"></span>
<img src="crime_mapping_files/figure-html/themmapwithoubord-1.png" alt="Thematic map with border lines removed" width="672" />
<p class="caption">
FIGURE 6.3: Thematic map with border lines removed
</p>
</div>
<p>Or we can change the colour of the borders with the <code>col =</code> argument:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb234-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb234-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_breath_tests), <span class="at">lwd =</span> <span class="fl">0.5</span>, </span>
<span id="cb234-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb234-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> <span class="co"># specify border colour</span></span>
<span id="cb234-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb234-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:themmapwhitebord"></span>
<img src="crime_mapping_files/figure-html/themmapwhitebord-1.png" alt="Thematic map with white borders" width="672" />
<p class="caption">
FIGURE 6.4: Thematic map with white borders
</p>
</div>
<p>Here we have a continuous fill for our values, however we can employ our learning from Chapter 3 and apply a classification system, such as quantiles. To do this we might create a new variable which contains the quantiles of our numeric variable, and then use that as our <code>fill =</code>.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create new variable for quantiles</span></span>
<span id="cb235-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-2" aria-hidden="true" tabindex="-1"></a>hu_dd <span class="ot">&lt;-</span> hu_dd <span class="sc">%&gt;%</span> </span>
<span id="cb235-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_quantiles =</span> <span class="fu">cut</span>(total_breath_tests, </span>
<span id="cb235-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-4" aria-hidden="true" tabindex="-1"></a>                               <span class="at">breaks =</span> <span class="fu">round</span>(<span class="fu">quantile</span>(total_breath_tests),<span class="dv">0</span>),</span>
<span id="cb235-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-5" aria-hidden="true" tabindex="-1"></a>                               <span class="at">include.lowest =</span> <span class="cn">TRUE</span>, <span class="at">dig.lab=</span><span class="dv">10</span>))</span>
<span id="cb235-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-7" aria-hidden="true" tabindex="-1"></a><span class="co"># plot this new variable</span></span>
<span id="cb235-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb235-9"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_quantiles), <span class="at">lwd =</span> <span class="fl">0.5</span>, <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb235-10"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb235-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-169"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-169-1.png" alt="Map of quantiles eith default colour scheme" width="672" />
<p class="caption">
FIGURE 6.5: Map of quantiles eith default colour scheme
</p>
</div>
<p>The colour scheme is terrible, but we will talk about colour in the next section, so we can forgive that for now…</p>
</div>
<div id="symbols" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Symbols<a href="basics-of-cartographic-design-elements-of-a-map.html#symbols" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You might not want to display your map as a choropleth map, you may want to use symbols. Again we explored this in Chapter 3 where you used the <code>tmap</code> package for this. Here is another way you can use graduated symbol map with <code>ggplot()</code>. You can take the centroid of each county polygon using the <code>st_centroid()</code> function from the <code>sf</code> package, and then when mapping with <code>geom_sf()</code>, within the <code>aes()</code> function specify the <code>size =</code> argument to the variable you wish to visualise:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb236-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb236-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span> </span>
<span id="cb236-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb236-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> <span class="fu">st_centroid</span>(hu_dd),  <span class="co">#get centroids</span></span>
<span id="cb236-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb236-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">size =</span> total_breath_tests)) <span class="sc">+</span>  <span class="co"># variable for size</span></span>
<span id="cb236-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb236-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:gradsymbmap"></span>
<img src="crime_mapping_files/figure-html/gradsymbmap-1.png" alt="Graduated symbol map" width="672" />
<p class="caption">
FIGURE 6.6: Graduated symbol map
</p>
</div>
<p>Like with the thematic map you can play around with colour and shape:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb237-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">fill =</span> <span class="st">&quot;light yellow&quot;</span>,   <span class="co"># specify polygon fill colour</span></span>
<span id="cb237-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb237-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span>    <span class="co"># specify border colour</span></span>
<span id="cb237-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb237-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> <span class="fu">st_centroid</span>(hu_dd), </span>
<span id="cb237-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb237-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">size =</span> total_breath_tests), </span>
<span id="cb237-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb237-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;orange&quot;</span>) <span class="sc">+</span>  <span class="co"># specify symbol colour</span></span>
<span id="cb237-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb237-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:gradsymbmapcol"></span>
<img src="crime_mapping_files/figure-html/gradsymbmapcol-1.png" alt="Graduated symbol map with adjusted colours" width="672" />
<p class="caption">
FIGURE 6.7: Graduated symbol map with adjusted colours
</p>
</div>
<p>You can also change the symbol itself with the <code>shape =</code> parameter. For example you could use a triangle:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb238-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">fill =</span> <span class="st">&quot;light yellow&quot;</span>, </span>
<span id="cb238-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb238-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> <span class="fu">st_centroid</span>(hu_dd), </span>
<span id="cb238-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">size =</span> total_breath_tests), </span>
<span id="cb238-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;orange&quot;</span>, </span>
<span id="cb238-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">shape =</span> <span class="dv">17</span>) <span class="sc">+</span> <span class="co"># set shape to be a triangle</span></span>
<span id="cb238-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb238-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:gradsymbmapcoltriangle"></span>
<img src="crime_mapping_files/figure-html/gradsymbmapcoltriangle-1.png" alt="Graduated symbol map with triangle shape." width="672" />
<p class="caption">
FIGURE 6.8: Graduated symbol map with triangle shape.
</p>
</div>
<p>Or to any other symbol. The possible values that you can use for the shape argument are the numbers 0 to 25, and the numbers 32 to 127. Only shapes 21 to 25 are filled (and thus are affected by the fill colour), the rest are just drawn in the outline colour. Shapes 32 to 127 correspond to the corresponding ASCII characters. For example, if we wanted to use the exclamation mark, the corresponding value is 33. How you choose to represent your data will depend on your decisions to the questions asked above about audience, message, integrity, and so on.</p>
</div>
<div id="rate-vs-count" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Rate vs count<a href="basics-of-cartographic-design-elements-of-a-map.html#rate-vs-count" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In Chapter 3 we have discussed this already in great detail, so do consult this, but it is important that your data are meaningful and easy to interpret. We might, in this case for example, want to consider the rate of positive breath tests per test carried out in each county. To compute this, we might want to consider the proportion of positive results on the breatalyser tests (where the person had been drinking and their result is over the limit). To compute this, we can simply divide the positive results by the total test, and multiply by 100. We also include the <code>round()</code> function in there, as we don’t need much precision in this case.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb239-1" aria-hidden="true" tabindex="-1"></a>hu_dd <span class="ot">&lt;-</span> hu_dd <span class="sc">%&gt;%</span> </span>
<span id="cb239-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb239-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pos_rate =</span> <span class="fu">round</span>(positive_breath_tests<span class="sc">/</span>total_breath_tests<span class="sc">*</span><span class="dv">100</span>,<span class="dv">1</span>))</span></code></pre></div>
<p>We can see the county with the highers proportion of test yielding drink drivers is Pest megye with 3 %, while the county with the lowest is Hajdú-Bihar with 0.2 %. We can visualise this rate on our thematic map in exactly the same way as the count data, but using our new variable in the <code>fill =</code> argument:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb240-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb240-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> pos_rate), <span class="at">lwd =</span> <span class="fl">0.5</span>, <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb240-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb240-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="crime_mapping_files/figure-html/themmapratefill-1.png" width="672" /></p>
</div>
</div>
<div id="colour" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Colour<a href="basics-of-cartographic-design-elements-of-a-map.html#colour" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When choosing a colour palette, the first thing to consider is what kind of colour scheme we need. This will depend on the variable we are trying to visualise. Depending on the kind of varaible we want to visualise, we might want a <em>qualitative</em> colour scheme (for categorical nominal variables), a <em>sequential</em> colour scheme (for categorical ordinal, or for numeric variables) or a <em>diverging</em> colour scheme (for categorical ordinal, or for numeric variables). For qualitative colour schemes, we want each category (each value for the variable) to have a perceptible difference in colour. For sequential and diverging colour schemes, we will want mappings from data to colour that are not just numerically but also perceptually uniform.</p>
<ul>
<li><strong>sequential scales</strong> (also called gradients) go from low to high saturation of a colour.</li>
<li><strong>diverging scales</strong> represent a scale with a neutral mid-point (as when we are showing temperatures, for instance, or variance in either direction from a zero point or a mean value), where the steps away from the midpoint are perceptually even in both directions.</li>
<li><strong>qualitative scales</strong> identify as different the different values of your categorical nominal variable from each other.</li>
</ul>
<p>For your sequential and diverging scales, the goal in each case is to generate a perceptually uniform scheme, where hops from one level to the next are seen as having the same magnitude.</p>
<p>Of course, perceptual uniformity matters for your qualitative scales for your unordered categorical variables as well. We often use colour to represent data for different countries, or political parties, or types of people, and so on. In those cases we want the colours in our qualitative palette to be easily distinguishable, but also have the same valence for the viewer. Unless we are doing it deliberately, we do not want one colour to perceptually dominate the others.</p>
<p>The main message here is that you should generally not put together your colour palettes in an ad hoc way. It is too easy to go astray. In addition to the considerations we have been discussing, there we might also want to avoid producing plots that confuse people who are colour blind. Fortunately for us, almost all of the work has been done for us already. Different colour spaces have been defined and standardized in ways that account for these uneven or nonlinear aspects of human colour perception.</p>
<p>A good resource is <a href="http://colorbrewer2.org/">colorbrewer</a>. We have come across the work of Cynthia <span class="citation">Brewer (<a href="#ref-Brewer_2006" role="doc-biblioref">2006</a>)</span> in Chapter 3. Colorbrewer is a resource developed by Cynthia Brewer and colleagues in order to help implement good colour practice in data visualisation and cartography <span class="citation">(<a href="#ref-Brewer_1994" role="doc-biblioref">Brewer 1994</a>)</span>. This site offers many colour schemes we can make use of for our maps, which are easily integrated into R using the <code>Rcolorbrewer</code> package.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span></code></pre></div>
<p>Once you have the package loaded, we can look at all the associated palettes with the function <code>display.brewer.all()</code>.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">display.brewer.all</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:dsplayallcolourbrewerpallettes"></span>
<img src="crime_mapping_files/figure-html/dsplayallcolourbrewerpallettes-1.png" alt="Palettes in RColorBrewer package" width="672" />
<p class="caption">
FIGURE 6.9: Palettes in RColorBrewer package
</p>
</div>
<p>The above gives a wide choice of pallettes, and while they are applicable to all sorts of data visualisations, they were created especially for the case of thematic maps. We might use the above code to pick a palette we like. We might then want to examine the colours more closely. To do this we can use the <code>display.brewer.pal()</code> function, and specify <code>n=</code> - the number of colours we need, as well as the palette name with <code>name =</code>:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">display.brewer.pal</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="st">&quot;Spectral&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-171"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-171-1.png" alt="The &quot;spectral&quot; palette in RColorBrewer package" width="672" />
<p class="caption">
FIGURE 6.10: The “spectral” palette in RColorBrewer package
</p>
</div>
<p>Let’s go back to our choropleth map of the quantiles of total breath tests per county. We might be interested in this map to show distribution of policing activity for example. We made this map earlier with the default colour scheme, which didn’t really communicate to us the graduated nature of our data we were visualising. To properly do this, we may imagine using a <em>sequential</em> scale. We can use one of the sequential scales available within <code>RColorBrewer</code> with adding the <code>scale_fill_brewer()</code> function to our ggplot. In this function we can specify the <code>type=</code> parameter, i.e. if we want to use sequential, divergining, or qualitative colour schemes (specified as either “seq” (sequential), “div” (diverging) or “qual” (qualitative)). We can then specify our preferred palette with the <code>palette =</code> argument. Let’s demonstrate here with the “YlOrRd” sequential palette:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb244-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb244-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_quantiles), </span>
<span id="cb244-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb244-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">lwd =</span> <span class="fl">0.5</span>, </span>
<span id="cb244-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb244-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb244-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb244-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>,   <span class="co"># pick pallette type</span></span>
<span id="cb244-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb244-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">palette =</span> <span class="st">&quot;YlOrRd&quot;</span>) <span class="sc">+</span>  <span class="co"># specify pallette by name</span></span>
<span id="cb244-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb244-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:colourbbrewerratefill"></span>
<img src="crime_mapping_files/figure-html/colourbbrewerratefill-1.png" alt="Thematic map with &quot;YlOrRd&quot; sequential palette" width="672" />
<p class="caption">
FIGURE 6.11: Thematic map with “YlOrRd” sequential palette
</p>
</div>
<p>This looks much better, and communicates our message much more clearly. Is this accessible to our colourblind colleagues? Earlier, when we asked to view all the palettes with the <code>display.brewer.all()</code> function, we did not specify any arguments. However, we can do so in order to filter only those palettes which are accessible for all audiences. We can include the parameter <code>colorblindFriendly =</code> to do so:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">display.brewer.all</span>(<span class="at">colorblindFriendly =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-172"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-172-1.png" alt="Colourblind friendly palettes in RColorBrewer package" width="672" />
<p class="caption">
FIGURE 6.12: Colourblind friendly palettes in RColorBrewer package
</p>
</div>
<p>You can see there are a few palettes missing from our earlier results, when we did not specify this requirement. Our recommendation is to always use one of these palettes.</p>
<p>Another way to ensure that we are making accessible maps is to use greyscale (if your map is being printed, this may also save some money). To introduce a greyscale palette, you can use the function <code>scale_fill_grey()</code> from the <code>ggplot2</code> package:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb246-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb246-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_quantiles), <span class="at">lwd =</span> <span class="fl">0.5</span>, <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb246-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb246-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_grey</span>() <span class="sc">+</span> <span class="co"># use greyscale colour scheme for fill</span></span>
<span id="cb246-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb246-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:greyscaletestsmap"></span>
<img src="crime_mapping_files/figure-html/greyscaletestsmap-1.png" alt="Map with greyscale palette" width="672" />
<p class="caption">
FIGURE 6.13: Map with greyscale palette
</p>
</div>
<p>Sometimes you might prefer such a map. However, do keep in mind, a number of studies have shown the desirability of monochrome colour (over greyscale) thematic maps, as they are linked to less observer variability in interpretation <span class="citation">(<a href="#ref-Lawson_2006" role="doc-biblioref">Lawson 2021b</a>)</span>. So you might want to use something like this instead:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb247-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb247-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_quantiles), <span class="at">lwd =</span> <span class="fl">0.5</span>, <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb247-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb247-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>) <span class="sc">+</span> </span>
<span id="cb247-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb247-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-173"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-173-1.png" alt="Map with monochrome palette" width="672" />
<p class="caption">
FIGURE 6.14: Map with monochrome palette
</p>
</div>
<p>Overall, the key thing is to be conscious with the colours you choose to represent your data. Make sure that they are accessible for all audiences, and best represent the patterns in your data which you want to communicate.</p>
</div>
<div id="text" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Text<a href="basics-of-cartographic-design-elements-of-a-map.html#text" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are important pieces of information with every map which are represented by text. Titles, subtitles, legend labels, and annotations all help to make the message communicated by your map more clear and obvious to your readers. Further, important information about the underlying data can be communicated through product notes. You want to acknowledge the sources of your data (both attribute data and geometry data), as well as leave some information about yourself as the map maker, so consumers of your map can understand who is behind this map, and leave some contact information to get in touch with any questions. In this section we go through how to add such text information to your maps.</p>
<div id="titles-and-subtitles" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Titles and subtitles<a href="basics-of-cartographic-design-elements-of-a-map.html#titles-and-subtitles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To give your map a title and subtitle, you can use the appropriate functions from the <code>ggplot2()</code> package. In this case we can add both within the <code>ggtitle</code> function. Make sure that your title is short and specific, so it is clear what your map is about. You can include a subtitle to elaborate on this, or you can add additional information such as the period for which your map represents data (in this case January 2020).</p>
<p>First let’s save our map into an object, call it <code>map</code>. Then we can add to this object.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb248-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb248-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb248-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_quantiles), </span>
<span id="cb248-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb248-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">lwd =</span> <span class="fl">0.5</span>, <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb248-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb248-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>) <span class="sc">+</span> </span>
<span id="cb248-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb248-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() </span></code></pre></div>
<p>Now we can add a title, with the <code>ggtitle()</code> function.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb249-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span> </span>
<span id="cb249-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb249-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># specify both title and subtitle: </span></span>
<span id="cb249-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb249-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">&quot;Number of breathalyser tests per county in Hungary&quot;</span>, </span>
<span id="cb249-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb249-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;January 2020&quot;</span>)</span>
<span id="cb249-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb249-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb249-6" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-174"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-174-1.png" alt="Add title(s) to map" width="672" />
<p class="caption">
FIGURE 6.15: Add title(s) to map
</p>
</div>
</div>
<div id="legend" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Legend<a href="basics-of-cartographic-design-elements-of-a-map.html#legend" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Besides an informative title/subtitle you need your legend to be clear to your readers as well. To modify the title to your legend, you can use the <code>name =</code> parameter in your <code>scale_fill_brewer()</code> function, where we specified the colour palette.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb250-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span> </span>
<span id="cb250-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb250-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, </span>
<span id="cb250-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb250-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">name =</span> <span class="st">&quot;Total tests (quantiles)&quot;</span>)  <span class="co"># desired legend title</span></span>
<span id="cb250-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb250-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb250-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb250-5" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:legend"></span>
<img src="crime_mapping_files/figure-html/legend-1.png" alt="Add title to map legend" width="672" />
<p class="caption">
FIGURE 6.16: Add title to map legend
</p>
</div>
<p>Besides the legend title, we can also change how the levels are labeled. For this, we can use text manipulation functions, such as <code>gsub()</code> which substitutes one string for another. For example, we can replace the “,” with a ” - ” if we’d like using the <code>gsub()</code> function. We can create a new object, here <code>new_levels</code>, which has the desired labels:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create object new_levels with desired labels</span></span>
<span id="cb251-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb251-2" aria-hidden="true" tabindex="-1"></a>new_levels <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot; - &quot;</span>,<span class="fu">levels</span>(hu_dd<span class="sc">$</span>total_quantiles))</span></code></pre></div>
<p>We can then assign this new levels object in the <code>labels =</code> parameter of the <code>scale_fill_brewer()</code> function:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb252-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span> </span>
<span id="cb252-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb252-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, </span>
<span id="cb252-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb252-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">name =</span> <span class="st">&quot;Total tests (quantiles)&quot;</span>, </span>
<span id="cb252-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb252-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">labels =</span> new_levels)   <span class="co"># specify our new labels</span></span>
<span id="cb252-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb252-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb252-6" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:legendlabelsplot"></span>
<img src="crime_mapping_files/figure-html/legendlabelsplot-1.png" alt="Edit labels on map legend" width="672" />
<p class="caption">
FIGURE 6.17: Edit labels on map legend
</p>
</div>
<p>Of course it is possible that we want to completely re-write the levels, rather than just swap out one character for another. In this case, we can completely rename the levels if we liked, by passing the new, desired labels into this <code>new_levels</code> object</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb253-1" aria-hidden="true" tabindex="-1"></a>new_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;&lt; 4796&quot;</span>, <span class="st">&quot;4796 to &lt; 10785&quot;</span>, <span class="st">&quot;10785  to &lt; 15070&quot;</span>, <span class="st">&quot;&gt; 15070&quot;</span>)</span></code></pre></div>
<p>And once again, we specify to use these labels in the <code>labels =</code> parameter of the <code>scale_fill_brewer()</code> function:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb254-1" aria-hidden="true" tabindex="-1"></a>map <span class="sc">+</span> </span>
<span id="cb254-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb254-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, </span>
<span id="cb254-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb254-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">name =</span> <span class="st">&quot;Total tests (quantiles)&quot;</span>, </span>
<span id="cb254-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb254-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">labels =</span> new_levels) <span class="co"># again specify labels object</span></span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:newnewlabelsplot"></span>
<img src="crime_mapping_files/figure-html/newnewlabelsplot-1.png" alt="Rewrite values on map legend" width="672" />
<p class="caption">
FIGURE 6.18: Rewrite values on map legend
</p>
</div>
<p>You can change the labels however you would like, but do keep in mind any loss of information you may introduce. For example with this second version, we no longer know what are the minimum and maximum values on our map, as we’ve removed that information with our new levels. Again, no wrong answers here, but whatever best fits the data and the purpose of the map. Depending on the context, for example, you may use the title to draw home the key finding or lesson you want the reader to take from the map (rather than describing the plot variable).</p>
</div>
<div id="annotation" class="section level3 hasAnchor" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> Annotation<a href="basics-of-cartographic-design-elements-of-a-map.html#annotation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In certain cases, it might be that we want to point out something specific on our map. This would be the case if we imagine showing someone the map in person, and pointing to a specific region, or area, to highlight it. Or we might just want to label all polygons, for clarity. If we are not present to discuss our map, we might want to include some text annotation instead, which will do this for us. From <code>ggplot2</code> versions v.3.1.0 the functions <code>geom_sf_text()</code> and <code>geom_sf_label()</code> make it very smooth for us to do this.</p>
<p>In the below example, let’s say we want to label each polygon with the name of the county which it represents. In this case, we use the <code>geom_sf_label()</code> geometry, and inside it we use <code>aes()</code> to point to which column in our dataframe we want to use (in this case the column is called <em>name</em>).</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb255-1" aria-hidden="true" tabindex="-1"></a>map  <span class="sc">+</span> </span>
<span id="cb255-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb255-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> name))  <span class="co"># add layer of labels from the name column</span></span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:addcountynames"></span>
<img src="crime_mapping_files/figure-html/addcountynames-1.png" alt="Add labels to map" width="672" />
<p class="caption">
FIGURE 6.19: Add labels to map
</p>
</div>
<p>You may notice there is some overlapping here which renders some names unreadable. Well while <a href="https://github.com/slowkow/ggrepel/issues/111">there is work in this space to develop the function geom_sf_label_repel()</a> at the time of writing this is not yet available. However this application of the <code>geom_label_repel()</code> function from the <code>ggrepel</code> package advised by <span class="citation">Yutani (<a href="#ref-Yutani_2018" role="doc-biblioref">2018</a>)</span> achieves the same outcome:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb256-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb256-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-3" aria-hidden="true" tabindex="-1"></a>map <span class="sc">+</span> </span>
<span id="cb256-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> hu_dd,       <span class="co"># add repel layer, specify dataframe</span></span>
<span id="cb256-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-5" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">aes</span>(<span class="at">label =</span> name,   <span class="co"># specify where to find label (name column)</span></span>
<span id="cb256-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">geometry =</span> geometry),  <span class="co"># specify geometry</span></span>
<span id="cb256-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">stat =</span> <span class="st">&quot;sf_coordinates&quot;</span>,  <span class="co"># transformation to use on the data</span></span>
<span id="cb256-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb256-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">min.segment.length =</span> <span class="dv">0</span>) <span class="co"># don&#39;t draw segments shorter than this</span></span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-175"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-175-1.png" alt="Repel labels for legibility" width="672" />
<p class="caption">
FIGURE 6.20: Repel labels for legibility
</p>
</div>
<p>This way we can display the names of all the counties without overlap, so they all become legible. While this is achievable, think back to the principles of good design. This seems busy, and like it may overwhelm the reader. Not to mention - is it important that all polygons are labelled here? It might be - remember this depends on the message the map is intended to communicate! But here let’s consider a different scenario, where we want to use annotation to label only those counties which meet some specific criteria. For example, you might want to label only those which are in the top quartile. One way to achieve this is to create a separate dataframe, which only includes the desired polygons, and pass this into the <code>geom_sf_label()</code> function.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create new dataframe with only top counties</span></span>
<span id="cb257-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb257-2" aria-hidden="true" tabindex="-1"></a>labs_df <span class="ot">&lt;-</span> hu_dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(total_breath_tests <span class="sc">&gt;=</span> <span class="dv">15070</span>)</span>
<span id="cb257-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb257-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb257-4" aria-hidden="true" tabindex="-1"></a><span class="co">#add to map</span></span>
<span id="cb257-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb257-5" aria-hidden="true" tabindex="-1"></a>map <span class="sc">+</span> </span>
<span id="cb257-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb257-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_label</span>(<span class="at">data =</span> labs_df, <span class="co"># specify to use the labels df</span></span>
<span id="cb257-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb257-7" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">label =</span> name)) </span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:addcountynamestoponly"></span>
<img src="crime_mapping_files/figure-html/addcountynamestoponly-1.png" alt="Label only polygons in top quartile of value on variable of interest" width="672" />
<p class="caption">
FIGURE 6.21: Label only polygons in top quartile of value on variable of interest
</p>
</div>
<p>In another scenario, you might want to label only one region of interest. In this case, we might actually want to keep our annotation off the map, and draw an arrow onto the map pointing to where this annotation refers to. We can do this by using the <code>nudge_x</code> and <code>nudge_y</code> parameters of the <code>geom_sf_label()</code> function, to <em>nudge</em> the label position along the x and y axis respectively. In this case, let’s label only Budapest.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create new labels dataframe</span></span>
<span id="cb258-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb258-2" aria-hidden="true" tabindex="-1"></a>labs_df <span class="ot">&lt;-</span> hu_dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">&quot;Budapest&quot;</span>)</span>
<span id="cb258-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb258-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb258-4" aria-hidden="true" tabindex="-1"></a>map <span class="sc">+</span> </span>
<span id="cb258-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb258-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_label</span>(<span class="at">data =</span> labs_df, <span class="fu">aes</span>(<span class="at">label =</span> name), <span class="co"># label from name column</span></span>
<span id="cb258-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb258-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">nudge_y =</span> <span class="fl">0.9</span>,  <span class="co"># move label on y axis</span></span>
<span id="cb258-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb258-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">nudge_x =</span> <span class="sc">-</span><span class="fl">0.1</span>)  <span class="co"># move label on x axis</span></span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:addcountynamesBPonly"></span>
<img src="crime_mapping_files/figure-html/addcountynamesBPonly-1.png" alt="Label only one area of interest" width="672" />
<p class="caption">
FIGURE 6.22: Label only one area of interest
</p>
</div>
<p>But this floating label is a little ambiguous, and needs to be more explicitly connected to the map. To achieve this, we might want to use an arrow to point out Budapest on the map. To do this, we can use <code>geom_curve()</code> within <code>ggplot2</code>. We will need two sets of x and y values for this segment, the start point (<code>x</code> and <code>y</code>) and the end point (<code>xend</code> and <code>yend</code>). The end point will be the coordinates where we want the arrow pointing to. This would be some x,y pair within Budapest. We can use the <code>st_coordinates()</code> function once again the extract the centroid, this time of the Budapest polygon. Let’s extract the longitude of the centroid into an object called <code>bp_x</code> for our x value, and the latitude of the centroid into an object called <code>bp_y</code> for our y value.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get x coordinate</span></span>
<span id="cb259-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb259-2" aria-hidden="true" tabindex="-1"></a>bp_x <span class="ot">&lt;-</span> labs_df <span class="sc">%&gt;%</span> </span>
<span id="cb259-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb259-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cent_lng =</span> <span class="fu">st_coordinates</span>(<span class="fu">st_centroid</span>(.))[,<span class="dv">1</span>]) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(cent_lng)</span>
<span id="cb259-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb259-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb259-5" aria-hidden="true" tabindex="-1"></a><span class="co"># get y coordinate</span></span>
<span id="cb259-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb259-6" aria-hidden="true" tabindex="-1"></a>bp_y <span class="ot">&lt;-</span> labs_df <span class="sc">%&gt;%</span> </span>
<span id="cb259-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb259-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cent_lat =</span> <span class="fu">st_coordinates</span>(<span class="fu">st_centroid</span>(.))[,<span class="dv">2</span>]) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(cent_lat)</span></code></pre></div>
<p>Great, so we have the end point for our segment! But where should it start? Well we want it pointing from our label, so we can think back to how we adjusted this label with the <code>nudge_x</code> and <code>nudge_y</code> parameters inside the <code>geom_sf_label()</code> function earlier. We can add (or subtract) these values to our bp_x and bp_y objects to determine the start points for our curve. Finally, we can also specify some characteristics of the arrow head on our curve with the <code>arrow =</code> parameter. Here we specify we want 2 millimeter size.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span> </span>
<span id="cb260-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_curve</span>(<span class="at">x =</span> bp_x <span class="sc">-</span> <span class="fl">0.1</span>,  <span class="co"># starting x coordinate (the label)</span></span>
<span id="cb260-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> bp_y <span class="sc">+</span> <span class="fl">0.9</span>, <span class="co"># starting y coordinate (the label)</span></span>
<span id="cb260-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">xend =</span> bp_x , <span class="co"># ending x coordinate (BP centroid)</span></span>
<span id="cb260-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">yend =</span> bp_y,  <span class="co"># ending y coordinate (BP centroid)</span></span>
<span id="cb260-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">&quot;mm&quot;</span>))) <span class="sc">+</span></span>
<span id="cb260-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_label</span>(<span class="at">data =</span> labs_df, </span>
<span id="cb260-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">label =</span> name), </span>
<span id="cb260-9"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">nudge_y =</span> <span class="fl">0.9</span>, </span>
<span id="cb260-10"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">nudge_x =</span> <span class="sc">-</span><span class="fl">0.1</span>) </span>
<span id="cb260-11"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-12"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb260-12" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-177"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-177-1.png" alt="Add arrow to clarify label off map" width="672" />
<p class="caption">
FIGURE 6.23: Add arrow to clarify label off map
</p>
</div>
<p>This is one way to include annotation while keeping the map clear, but still using the geographic information to reference. Annotations can be useful, but think carefully about whether you need them for your map, as they can also be distracting if not used appropriately.</p>
</div>
<div id="production-notes" class="section level3 hasAnchor" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> Production notes<a href="basics-of-cartographic-design-elements-of-a-map.html#production-notes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Something that should be a key feature of all maps is the inclusion of production notes. This includes some information about you who made it, as well as any attributions for data. Here we can string together a series of information we want to include, appended with a newline character (<code>\n</code>), in order to keep our notes nice and legible. We save this into a new object called <code>caption_text</code>.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb261-1" aria-hidden="true" tabindex="-1"></a>caption_text <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Map created by Réka Solymosi (@r_solymosi)&quot;</span>, </span>
<span id="cb261-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb261-2" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;Contains data from Police Hungary&quot;</span>,</span>
<span id="cb261-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb261-3" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;http://www.police.hu/hu/a-rendorsegrol/&quot;</span>,</span>
<span id="cb261-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb261-4" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;statisztikak/kozrendvedelem&quot;</span>, </span>
<span id="cb261-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb261-5" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;Map data copyrighted OpenStreetMap contributors&quot;</span>, </span>
<span id="cb261-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb261-6" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;available from https://www.openstreetmap.org&quot;</span>, </span>
<span id="cb261-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb261-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>Then we can include this <code>caption_text</code> object as a caption in the function <code>labs()</code>, which stands for labels.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb262-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption =</span> caption_text) <span class="co"># include production notes here</span></span>
<span id="cb262-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb262-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb262-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb262-3" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-179"></span>
<img src="crime_mapping_files/figure-html/unnamed-chunk-179-1.png" alt="Include production notes in map" width="672" />
<p class="caption">
FIGURE 6.24: Include production notes in map
</p>
</div>
<p>In this way we give credibility to our map, and we also make the proper attributions to where our data come from.</p>
</div>
</div>
<div id="composition" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Composition<a href="basics-of-cartographic-design-elements-of-a-map.html#composition" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Composition of the map is the process of bringing all its elements together in order that they portray a complete image of what you are representing. Composition includes considerations of size, proportions, generalisation, simplification, and similar topics. We do not address these here, as they rely so much on the specific purpose of the map being created. Is it for the web? Is it for print? Are having detailed outlines of coasts and waterways important, or is a generalised representation of the underlying geography enough? These are questions the map maker should answer early on, and pick geometry data, and specify output sizes and resolutions accordingly. In this section instead, we will focus on the element of composition which is concerned with the inclusion of basic map elements - information required by the map readers to make sense of our data, specifically orientation and scale indicators</p>
<div id="orientation-indicators" class="section level3 hasAnchor" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> Orientation indicators<a href="basics-of-cartographic-design-elements-of-a-map.html#orientation-indicators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It used to be that no map was complete without the inclusion of an orientation indicator (known colloquially as the “North Arrow”). Readers who are geography fans may know that the issue of where is North is maybe not so straight forward - true north (the direction to the North Pole) differs from magnetic north, and the latter actually moves around as the Earth’s geophysical conditions change. There are reference maps which include both, however for most crime mapping applications we can conclude that this is overkill. Most maps are oriented to true north, anyway, so we are not being very deviant with choosing this approach.</p>
<p>So how to include this in our mapping in R? Well we can turn to the <code>ggspatial</code> library, and employ the function <code>annotation_north_arrow()</code>. In this function we can specify some aesthetic properties of our arrow, such as the height and width. Here we do so using millimeters as units.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggspatial)</span>
<span id="cb263-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb263-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb263-3" aria-hidden="true" tabindex="-1"></a>map <span class="sc">+</span> <span class="fu">annotation_north_arrow</span>(<span class="at">height =</span> <span class="fu">unit</span>(<span class="dv">7</span>, <span class="st">&quot;mm&quot;</span>), <span class="co"># specify arrow height</span></span>
<span id="cb263-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb263-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">width =</span> <span class="fu">unit</span>(<span class="dv">5</span>, <span class="st">&quot;mm&quot;</span>)) <span class="co"># specify arrow width</span></span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:orientation"></span>
<img src="crime_mapping_files/figure-html/orientation-1.png" alt="Add north arrow" width="672" />
<p class="caption">
FIGURE 6.25: Add north arrow
</p>
</div>
<p>You can also change the style with the <code>style =</code> parameter, and choose from styles such as <code>north_arrow_fancy_orienteering()</code> or <code>north_arrow_minimal()</code>:</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb264-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span> <span class="fu">annotation_north_arrow</span>(<span class="at">height =</span> <span class="fu">unit</span>(<span class="dv">7</span>, <span class="st">&quot;mm&quot;</span>), <span class="co"># specify arrow height</span></span>
<span id="cb264-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb264-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">width =</span> <span class="fu">unit</span>(<span class="dv">5</span>, <span class="st">&quot;mm&quot;</span>), </span>
<span id="cb264-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb264-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">style =</span> <span class="fu">north_arrow_minimal</span>()) <span class="co"># specify arrow style</span></span>
<span id="cb264-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb264-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb264-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb264-5" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:orientationarrowstyle"></span>
<img src="crime_mapping_files/figure-html/orientationarrowstyle-1.png" alt="Change stype of north arrow" width="672" />
<p class="caption">
FIGURE 6.26: Change stype of north arrow
</p>
</div>
</div>
<div id="scale-indicators" class="section level3 hasAnchor" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> Scale indicators<a href="basics-of-cartographic-design-elements-of-a-map.html#scale-indicators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Besides the North Arrow another key feature of maps is the scale indicator, which helps to understand distances we are presenting in our maps. Generally, scale should always be indicated or implied, unless the audience is so familiar with the map area or distance of such little relative importance that it can be assumed by the audience. You could use text to indicate scale. For example you could write “One centimeter is equal to one kilometer, or you could write 1:10000. But a common, graphical representation is to use a scale bar. Also in the <code>ggspatial</code> library, there is the function <code>annotation_scale()</code>, which helps us achieve this. To plot both the north arrow, and the scale indicator, you want to think about where you place these. You can move them along the x-axis using the <code>pad_x</code> parameter, and along the y-axis with the <code>pad_y</code> parameter.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb265-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">+</span>  <span class="fu">annotation_scale</span>(<span class="at">line_width =</span> <span class="fl">0.5</span>,      <span class="co"># add scale and specify width</span></span>
<span id="cb265-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb265-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">height =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">&quot;mm&quot;</span>), <span class="co"># specify height</span></span>
<span id="cb265-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb265-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pad_x =</span> <span class="fu">unit</span>(<span class="dv">6</span>, <span class="st">&quot;cm&quot;</span>))  <span class="co"># adjust on x axis</span></span>
<span id="cb265-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb265-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb265-5" aria-hidden="true" tabindex="-1"></a>map</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:scale"></span>
<img src="crime_mapping_files/figure-html/scale-1.png" alt="Include scale indicator on map" width="672" />
<p class="caption">
FIGURE 6.27: Include scale indicator on map
</p>
</div>
<p>You can move these elements about however you like to achieve your desired composition.</p>
</div>
</div>
<div id="context" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Context<a href="basics-of-cartographic-design-elements-of-a-map.html#context" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Besides the orientation and scale indicators, there are other ways to give context to your map, that is situate it within the wider environment, and put things into perspective for your map readers. In this section we will touch on basemaps, although this is something we have already encountered in great detail in earlier chapters, we illustrate how to add basemaps in ggplot. We also introduce inset maps, as a way of highlighting where your map sits in the wider context.</p>
<div id="basemap" class="section level3 hasAnchor" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> Basemap<a href="basics-of-cartographic-design-elements-of-a-map.html#basemap" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As mentioned above, we have encountered and included basemaps in previous exercises in previous chapters. For the sake of illustration, we can add a basemap now using the the <code>annotation_map_tile()</code> function also from the <code>ggspatial</code> package (like the orientation and scale indicators). Make sure that the basemap is the first layer added to the map, so that all subsequent layers are drawn on top of it. If we were to add <code>annotation_map_tile()</code> last, it would cover all the other layers.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hu_dd) <span class="sc">+</span> </span>
<span id="cb266-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb266-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotation_map_tile</span>() <span class="sc">+</span>  <span class="co"># add basemap layer first</span></span>
<span id="cb266-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb266-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> total_quantiles), <span class="at">lwd =</span> <span class="fl">0.5</span>, <span class="at">col =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb266-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb266-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, <span class="at">name =</span> <span class="st">&quot;Total tests&quot;</span>) </span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:basemap"></span>
<img src="crime_mapping_files/figure-html/basemap-1.png" alt="Add a basemap to our map" width="672" />
<p class="caption">
FIGURE 6.28: Add a basemap to our map
</p>
</div>
<p>This provides one way to add context. In previous iterations, we have adjusted the opacity of our other layers, in order to aid visibility of the basemap underneath them, so this might be something to consider.</p>
</div>
<div id="inset-maps" class="section level3 hasAnchor" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> Inset maps<a href="basics-of-cartographic-design-elements-of-a-map.html#inset-maps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Inset maps provide another approach to situating your map in context. You might use this to show where your main map fits into the context of a larger area, for example, here we might illustrate how Hungary is situated within Europe. You might also use an inset map in another situation, where you have additional areas which you want to show which may be geographically far but politically related to your region. For example, we might want to portray a map of the United States of America, and make sure to include Hawaii and Alaska on the map. The basic principles behind these maps is the same. Essentially we must create two map objects, and then bring these together. Let’s illustrate how.</p>
<p>First, we need to create the map we will be displaying in the inset map. In this case, let’s highlight the location of Hungary on a map of Europe. We can do this by creating a map of Europe (let’s use the <code>rnaturalearth</code> package for this). We create a list of the countries from the world map `countries110’, and filter only Europe (we also exclude Russia because it is so big it makes the rest of Europe hard do see on a smaller map, and Iceland as it’s far, also making the map bigger than we need).</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb267-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-3" aria-hidden="true" tabindex="-1"></a>europe_countries <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(countries110) <span class="sc">%&gt;%</span>  <span class="co"># get geom for all countries</span></span>
<span id="cb267-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(region_un<span class="sc">==</span><span class="st">&quot;Europe&quot;</span> <span class="sc">&amp;</span> <span class="co"># select Europe</span></span>
<span id="cb267-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-5" aria-hidden="true" tabindex="-1"></a>           name <span class="sc">!=</span> <span class="st">&quot;Russia&quot;</span> <span class="sc">&amp;</span> name <span class="sc">!=</span> <span class="st">&quot;Iceland&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co"># remove Russia and Iceland</span></span>
<span id="cb267-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(name) <span class="co"># get only the names in a list</span></span>
<span id="cb267-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-8" aria-hidden="true" tabindex="-1"></a>europe <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">geounit =</span> europe_countries, <span class="co"># get geoms for countries in list</span></span>
<span id="cb267-9"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">type =</span> <span class="st">&#39;map_units&#39;</span>,  <span class="co"># country type as map_units</span></span>
<span id="cb267-10"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb267-10" aria-hidden="true" tabindex="-1"></a>                       <span class="at">returnclass =</span> <span class="st">&quot;sf&quot;</span>) <span class="co"># return sf object (not sp)</span></span></code></pre></div>
<p>Now we can use the returned sf object <code>europe</code> to create a map of Europe. But this isn’t necessarily enough context. We also want the inset map to highlight Hungary within this map. We can do this by creating another layer, with only Hungary, and making its border red and a use thicker line width. By layering this on top of the Europe map, we are essentially highlighting our study region.</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-1" aria-hidden="true" tabindex="-1"></a>inset_map <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span>  <span class="co"># create new ggplot </span></span>
<span id="cb268-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> europe,  <span class="co"># add europe map as first layer</span></span>
<span id="cb268-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> <span class="co"># white fill </span></span>
<span id="cb268-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> europe <span class="sc">%&gt;%</span> <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">&quot;Hungary&quot;</span>), <span class="co"># new layer only Hungary</span></span>
<span id="cb268-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">fill =</span> <span class="st">&quot;white&quot;</span> ,  <span class="co"># white fill</span></span>
<span id="cb268-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;red&quot;</span>,   <span class="co"># make the border red</span></span>
<span id="cb268-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">lwd =</span> <span class="dv">2</span>) <span class="sc">+</span>   <span class="co"># make border line thick</span></span>
<span id="cb268-8"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span>  <span class="co"># strip grid elements</span></span>
<span id="cb268-9"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="co"># draw border around map</span></span>
<span id="cb268-10"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb268-10" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">fill=</span><span class="cn">NA</span>)) </span></code></pre></div>
<p>We now have this separate map, which highlights where Hungary can be found, right there in Central Europe. To display this jointly with our map of breathalyser test, we must join the two maps. For this, we will need both as separate objects. We’ve already assigned out inset map to the object <code>inset_map</code>, and we also have our main map object we’ve been working with, called <code>map</code>.</p>
<p>So now we have our inset map and main map stored as two map objects. To display them together we can use the <code>ggdraw()</code> and <code>draw_plot()</code> functions from the <code>cowplot</code> package. Let’s load this package.</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span></code></pre></div>
<p>First, we set up an empty drawing layer for our ggplot using the <code>ggdraw()</code> function. Then we layer on the two maps both using the <code>draw_plot()</code> function. This allows us to draw plots and sub plots. This function places a plot (which we specify as the first parameter of this function) somewhere onto the drawing canvas. By default, coordinates run from 0 to 1, and the point (0, 0) is in the lower left corner of the canvas. We want to therefore specify where the plots go on our canvas explicitly. Alongside position, we can also specify size. This is important, we usually make the inset map smaller.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb270-1" aria-hidden="true" tabindex="-1"></a>hu_dd_with_inset <span class="ot">&lt;-</span> <span class="fu">ggdraw</span>() <span class="sc">+</span>  <span class="co"># set layer</span></span>
<span id="cb270-2"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb270-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">draw_plot</span>(map) <span class="sc">+</span>  <span class="co"># draw the main map</span></span>
<span id="cb270-3"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb270-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">draw_plot</span>(inset_map,   <span class="co"># draw inset map</span></span>
<span id="cb270-4"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb270-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fl">0.75</span>,    <span class="co"># specify location on x axis</span></span>
<span id="cb270-5"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb270-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="dv">0</span>,    <span class="co"># specify location on y axis</span></span>
<span id="cb270-6"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb270-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">width =</span> <span class="fl">0.35</span>,    <span class="co"># specify width</span></span>
<span id="cb270-7"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb270-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">height =</span> <span class="fl">0.35</span>)   <span class="co"># specify height</span></span></code></pre></div>
<p>We now have our final map, which we can check out now:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="basics-of-cartographic-design-elements-of-a-map.html#cb271-1" aria-hidden="true" tabindex="-1"></a>hu_dd_with_inset</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:insetmapfinal"></span>
<img src="crime_mapping_files/figure-html/insetmapfinal-1.png" alt="Adding an inset map to our map" width="672" />
<p class="caption">
FIGURE 6.29: Adding an inset map to our map
</p>
</div>
<p>You can play around with where you position your inset map by adjusting the x and y coordinates. You can also play around with the size of it by adjusting the parameters for height and width. And like mentioned above, you can use inset maps not only for context, but also to include geographically far away regions which belong to the same political unity, for example to include Alaska and Hawaii in maps of the United States.</p>
</div>
</div>
<div id="summary-and-further-reading-4" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> Summary and further reading<a href="basics-of-cartographic-design-elements-of-a-map.html#summary-and-further-reading-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this chapter we covered some principles of data visualisation and good map design, specifically how to implement some of these using <code>ggplot2</code> library in R. We talked about symbols, about colour, about text, and about adding context. <code>ggplot2</code> provides an incredibly flexible framework, and through the use of layers you can achieve a very beautiful and meaningful map output. We could for example consider adding topography, such as rivers, lakes, and mountains to our maps, and it would be only a case of adding another layer. To get more familiar with this we recommend <span class="citation">Wickham (<a href="#ref-Wickham_2010" role="doc-biblioref">2010</a>)</span> and <span class="citation">Healy (<a href="#ref-Healy_2019" role="doc-biblioref">2019</a>)</span>.</p>
<p>For general readings on cartography, the work of Kenneth Field provides thorough and engaging guidance (eg: <span class="citation">Field and Demaj (<a href="#ref-Field_2012" role="doc-biblioref">2012</a>)</span> or <span class="citation">Field (<a href="#ref-Field_2018" role="doc-biblioref">2018</a>)</span>). For data visualisation, while <span class="citation">Tufte (<a href="#ref-Tufte_1983" role="doc-biblioref">2001</a>)</span> is a classic text, those looking for practical instruction may wish to turn to <span class="citation">Kirk (<a href="#ref-Kirk_2016" role="doc-biblioref">2016</a>)</span> or <span class="citation">Cairo (<a href="#ref-Cairo_2016" role="doc-biblioref">2016</a>)</span> for more guidance.</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Brewer_1994" class="csl-entry">
Brewer, Cynthia. 1994. <span>“Color Use Guidelines for Mapping.”</span> <em>Visualization in Modern Cartography</em> 1994: 123–48.
</div>
<div id="ref-Brewer_2006" class="csl-entry">
———. 2006. <span>“Basic Mapping Principles for Visualizing Cancer Data Using Geographic Information Systems (GIS).”</span> <em>American Journal of Preventive Medicine</em> 30 (2S): S25–36.
</div>
<div id="ref-Cairo_2016" class="csl-entry">
Cairo, Alberto. 2016. <em>The Truthful Art: Data, Charts, and Maps for Communication</em>. New Riders.
</div>
<div id="ref-Dent_2008" class="csl-entry">
Dent, Borden, J Torguson, and T Hodler. 2008. <em>Thematic Map Design</em>. New York, New York, NY: McGraw-Hill.
</div>
<div id="ref-Field_2007" class="csl-entry">
Field, Kenneth. 2007. <span>“Map Evaluation Guidelines.”</span> <a href="http://downloads.esri.com/MappingCenter2007/arcGISResources/more/MapEvaluationGuidelines.pdf" class="uri">http://downloads.esri.com/MappingCenter2007/arcGISResources/more/MapEvaluationGuidelines.pdf</a>.
</div>
<div id="ref-Field_2018" class="csl-entry">
———. 2018. <em>Cartography</em>. Redlands, CA: ESRI Press.
</div>
<div id="ref-Field_2012" class="csl-entry">
Field, Kenneth, and Damien Demaj. 2012. <span>“Reasserting Design Relevance in Cartography: Some Concepts.”</span> <em>The Cartographic Journal</em> 49 (1): 70–76.
</div>
<div id="ref-Healy_2019" class="csl-entry">
Healy, Kieran. 2019. <em>Data Visualization. A Practical Introduction</em>. Princeto, NJ: Princeton University Press.
</div>
<div id="ref-Kirk_2016" class="csl-entry">
Kirk, Andy. 2016. <em>Data Visualisation: A Handbook for Data Driven Design</em>. London, UK: Sage.
</div>
<div id="ref-Lawson_2006" class="csl-entry">
———. 2021b. <em>Statistical Methods in Spatial Epidemiology</em>. 2nd ed. Chichester, UK: John Wiley; Sons.
</div>
<div id="ref-Li_2014" class="csl-entry">
Li, Huiyang, and Nadine Moacdieh. 2014. <span>“Is <span>‘Chart Junk’</span> Useful? An Extended Examination of Visual Embellishment.”</span> In <em>Proceedings of the Human Factors and Ergonomics Society Annual Meeting</em>, 58:1516–20. 1. SAGE Publications Sage CA: Los Angeles, CA.
</div>
<div id="ref-Policehu_2021" class="csl-entry">
Police.hu. 2020. <span>“Közrendvédelem.”</span> <a href="http://www.police.hu/hu/a-rendorsegrol/statisztikak/kozrendvedelem" class="uri">http://www.police.hu/hu/a-rendorsegrol/statisztikak/kozrendvedelem</a>.
</div>
<div id="ref-Tufte_1983" class="csl-entry">
Tufte, Edward. 2001. <em>The Visual Display of Quantitative Information</em>. 2nd ed. Cheshire, Conn: Graphics Press.
</div>
<div id="ref-Wickham_2010" class="csl-entry">
Wickham, Hadley. 2010. <span>“A Layered Grammar of Graphics.”</span> <em>Journal of Computational and Graphical Statistics</em> 19 (1): 3–28.
</div>
<div id="ref-Yutani_2018" class="csl-entry">
Yutani, Hiroaki. 2018. <span>“Geom_sf_text() and Geom_sf_label() Are Coming.”</span> <a href="https://yutani.rbind.io/post/geom-sf-text-and-geom-sf-label-are-coming/" class="uri">https://yutani.rbind.io/post/geom-sf-text-and-geom-sf-label-are-coming/</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="variations-of-thematic-mapping.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="time-matters.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-crc/edit/master/05-cartography.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["crime_mapping.pdf", "crime_mapping.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
